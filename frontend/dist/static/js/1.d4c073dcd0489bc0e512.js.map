{"version":3,"sources":["webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/modules/core.get-iterator.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/json/stringify.js","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/babel-runtime/node_modules/core-js/library/fn/get-iterator.js","webpack:///./src/base64url-arraybuffer.js","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?5020","webpack:///./src/components/Login.vue"],"names":["module","exports","default","__webpack_require__","__esModule","anObject","get","getIterator","it","iterFn","TypeError","call","core","$JSON","JSON","stringify","apply","arguments","__WEBPACK_AMD_DEFINE_RESULT__","chars","lookup","Uint8Array","i","length","charCodeAt","encode","arraybuffer","bytes","len","base64","substring","decode","encoded1","encoded2","encoded3","encoded4","bufferLength","p","ArrayBuffer","undefined","Login","name","components","ThemeButton","data","baseurl","switch1","otpScreen","otpError","loginId","signUpOption","versionOption","activeUser","user","token","email","password","otpForm","otp","submitted","submitted2","signupRoute","keyScreen","keyTotpScreen","keys","mfa","harwarekey","activeKey","verification_method","crid","validations","required","validators","minLength","Object","mounted","this","$route","params","appdirectory","fnLogin","getsignup","getVersion","methods","_this","request","url","dirname","$store","dispatch","common_module","then","response","$cookie","status","$router","push","dir","catch","e","old_version","console","log","_this2","_this3","handleSubmit","_this4","preventDefault","$v","$touch","$invalid","set","stringify_default","verifyKey","key","_ref","_this5","_id","title","asyncToGenerator_default","regenerator_default","a","mark","_callee2","getAssertionChallenge","newCredentialInfo","wrap","_context2","prev","next","preformatGetAssertReq","sent","navigator","credentials","publicKey","publicKeyCredentialToJSON","_ref2","_callee","serverResponse","_context","Error","errorMessage","stop","_x2","t0","$swal","fire","_x","generateRandomBuffer","randomBuff","window","crypto","getRandomValues","pubKeyCred","Array","arr","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","done","value","err","return","base64url_arraybuffer","obj","getAssert","promise_default","resolve","reject","challenge","allowCredentials","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","allowCred","id","handleSubmit2","_this6","trim","verification_code","chooseMethods","method","components_Login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id-hide","_v","_e","on","submit","$event","is-text","icon","directives","rawName","expression","class","is-invalid","$error","type","placeholder","domProps","input","target","composing","$set","_m","to","d-none","maxlength","click","href","staticStyle","cursor","_l","_s","rel","aria-label","font-scale","variant","staticRenderFns","border-left","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.d4c073dcd0489bc0e512.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 1 3","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/node_modules/core-js/library/modules/core.get-iterator.js\n// module id = St71\n// module chunks = 1 3","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/node_modules/core-js/library/fn/json/stringify.js\n// module id = Zbun\n// module chunks = 1 3","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 1 3","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/node_modules/core-js/library/fn/get-iterator.js\n// module id = oY0/\n// module chunks = 1 3","/*\n * Base64URL-ArrayBuffer\n * https://github.com/herrjemand/Base64URL-ArrayBuffer\n *\n * Copyright (c) 2017 Yuriy Ackermann <ackermann.yuriy@gmail.com>\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n * \n */\n(function(){\n    \"use strict\";\n\n    var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\n\n    // Use a lookup table to find the index.\n    var lookup = new Uint8Array(256);\n    for (var i = 0; i < chars.length; i++) {\n        lookup[chars.charCodeAt(i)] = i;\n    }\n\n    var encode = function(arraybuffer) {\n        var bytes = new Uint8Array(arraybuffer),\n        i, len = bytes.length, base64 = \"\";\n\n        for (i = 0; i < len; i+=3) {\n            base64 += chars[bytes[i] >> 2];\n            base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n            base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n            base64 += chars[bytes[i + 2] & 63];\n        }\n\n        if ((len % 3) === 2) {\n            base64 = base64.substring(0, base64.length - 1);\n        } else if (len % 3 === 1) {\n            base64 = base64.substring(0, base64.length - 2);\n        }\n\n        return base64;\n    };\n\n    var decode = function(base64) {\n        var bufferLength = base64.length * 0.75,\n        len = base64.length, i, p = 0,\n        encoded1, encoded2, encoded3, encoded4;\n\n        var arraybuffer = new ArrayBuffer(bufferLength),\n        bytes = new Uint8Array(arraybuffer);\n\n        for (i = 0; i < len; i+=4) {\n            encoded1 = lookup[base64.charCodeAt(i)];\n            encoded2 = lookup[base64.charCodeAt(i+1)];\n            encoded3 = lookup[base64.charCodeAt(i+2)];\n            encoded4 = lookup[base64.charCodeAt(i+3)];\n\n            bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n            bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n            bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n        }\n\n        return arraybuffer;\n    };\n\n     /**\n     * Exporting and stuff\n     */\n    if (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n        module.exports = {\n            'encode': encode,\n            'decode': decode\n        }\n\n    } else {\n        if (typeof define === 'function' && define.amd) {\n            define([], function() {\n                return {\n                    'encode': encode,\n                    'decode': decode\n                }\n            });\n        } else {\n            window.base64url = {\n                'encode': encode,\n                'decode': decode\n            }\n        }\n    }\n})();\n\n\n// WEBPACK FOOTER //\n// ./src/base64url-arraybuffer.js","<template>\n    <div>\n        <div class=\"login-box dark-mode p-3\">\n            <theme-button id-hide=\"false\" />\n            <h1 class=\"dark-mode\">Login</h1>\n            <form @submit.prevent=\"handleSubmit\" class=\"ml-2 mr-2\" v-if=\"!otpScreen && !keyScreen\">\n              <div class=\"form-group mt-4\">\n                <b-input-group>\n                  <b-input-group-prepend is-text>\n                    <b-icon icon=\"person-fill\"></b-icon>\n                  </b-input-group-prepend>\n                <input class=\"form-control chat-input\" type=\"text\" placeholder=\"Username\" v-model=\"user.email\" :class=\"{ 'is-invalid': submitted && $v.user.email.$error }\" title=\"Enter Username\">\n                 </b-input-group>\n                <div v-if=\"submitted && $v.user.email.$error\" class=\"invalid-feedback\">\n                  <span v-if=\"!$v.user.email.required\">Username is required</span>\n                  <span v-if=\"!$v.user.email.minLength\">Username is invalid</span>\n                </div>\n              </div>\n              <div class=\"form-group mb-2 mt-4\">\n                <b-input-group>\n                  <b-input-group-prepend is-text>\n                    <b-icon icon=\"shield-lock\"></b-icon>\n                  </b-input-group-prepend>\n                <input class=\"chat-input form-control\" v-model=\"user.password\"  type=\"password\" placeholder=\"Password\" :class=\"{ 'is-invalid': submitted && $v.user.password.$error }\" title=\"Enter Password\">\n               </b-input-group>\n                <div v-if=\"submitted && $v.user.password.$error\" class=\"invalid-feedback\">\n                    <span v-if=\"!$v.user.password.required\">Password is required</span>\n                    <span v-if=\"!$v.user.password.minLength\">Password is invalid</span>\n                </div>\n              </div>\n              <div class=\"d-grid\">\n                <button class=\"btn btn-success mt-3\" type=\"submit\" id=\"login-button\">Login</button>\n              </div>\n              <div class=\"my-2 small\" v-if=\"signUpOption\">\n                Don’t have an account yet? <router-link :to=\"signupRoute\" class=\"mx-2\"> Sign up</router-link>\n              </div>\n              <div  class=\"d-grid d-md-flex mt-2 small\" v-else>\n                New registrations are disabled\n              </div>\n            </form>\n            <form class=\"ml-2 mr-2 text-center\" v-bind:class=\"{ 'd-none': !otpScreen }\">\n              <div class=\"form-group my-4\">\n                <label>Enter Verification Code</label>\n                <input class=\"totp\" v-model=\"otpForm.otp\"  type=\"form-control\" maxlength=\"6\" placeholder=\"000000\" :class=\"{ 'is-invalid': submitted2 && otpError }\">\n                <div v-if=\"submitted2 && otpError\" class=\"invalid-feedback\">\n                    <span>Verification code is required</span>\n                </div>\n              </div>\n              <div class=\"text-center\">\n                <button class=\"btn btn-success m-3 px-5\" type=\"button\" v-on:click=\"handleSubmit2($event)\" id=\"login-button2\">Verify</button>\n              </div>\n              <div class=\"p-2\">\n                   <a href=\"javascript:void(0)\" @click=\"chooseMethods('show_method')\">Choose A Different Verification Method</a>\n              </div>\n            </form>\n\n            <form class=\"ml-2 mr-2 text-center\" v-if=\"keyScreen\">\n              <div class=\"\" v-if=\"verification_method\">\n                <div class=\"card my-4\"  v-if=\"keys.length > 0\">\n                  <div class=\"card-body\" style=\"cursor: pointer;\" @click=\"chooseMethods('hardware_key')\">\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                      <div class=\"px-4\">\n                        <b-icon icon=\"key\"></b-icon>\n                      </div>\n                      <div class=\"border-dark px-2\" style=\"border-left: 1px solid;\">\n                        <h4>Security Key</h4>\n                        <p>Use a hardwaree security key that is paired with your account. </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"card\" v-if=\"mfa\">\n                  <div class=\"card-body\" style=\"cursor: pointer;\" @click=\"chooseMethods('mfa')\" >\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                      <div class=\"px-4\">\n                        <b-icon icon=\"calculator-fill\"></b-icon>\n                      </div>\n                      <div class=\"border-dark px-2\" style=\"border-left: 1px solid;\">\n                        <h4>TOTP Code</h4>\n                        <p>Use a time based on-time verification passcode. </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"p-2\">\n                  <a class=\"mt-2\" href=\"javascript:void(0)\" @click=\"chooseMethods('Cancel')\">Cancel</a>\n                </div>\n              </div>\n              <div v-else>\n                <div class=\"card my-4\" v-for=\"key in keys\" :key=\"key._id\">\n                  <div class=\"card-body\">\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                      <div>\n                        <b-icon icon=\"key\"></b-icon><span class=\"mr-2\"> {{key.title}} </span>\n                      </div>\n                      <div>\n                        <button type=\"button\" @click=\"verifyKey(key)\" class=\"btn btn-success\">Verify</button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <a href=\"javascript:void(0)\" @click=\"chooseMethods('show_method')\">Choose A Different Verification Method</a>\n              </div>\n            </form>\n\n            <div class=\"d-flex my-4 justify-content-center\">\n                 <a href=\"https://www.twitter.com/0perationP\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Twitter\" title=\"Twitter\">\n                    <b-icon font-scale=\"2\" icon=\"twitter\" variant=\"secondary\" class=\"mx-2\"></b-icon>\n                 </a>\n                 <a href=\"https://github.com/0perationPrivacy/\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Github\" title=\"Github\">\n                  <b-icon font-scale=\"2\" icon=\"github\" variant=\"secondary\" class=\"mx-2\"></b-icon>\n                 </a>\n                 <a href=\"https://www.OperationPrivacy.com/Donate\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Donate\" title=\"Donate\">\n                  <b-icon font-scale=\"2\" icon=\"credit-card\" variant=\"secondary\" class=\"mx-2\"></b-icon>\n                 </a>\n              </div>\n        </div>\n        <p class=\"version\">{{versionOption}}</p>\n    </div>\n</template>\n\n<script>\n// import { decode } from '../../../base64url-arraybuffer'\nimport { decode, encode } from '../base64url-arraybuffer'\nimport { post } from '../core/module/common.module'\nimport ThemeButton from '@/components/ThemeButton.vue'\nimport { required, minLength } from 'vuelidate/lib/validators'\n// import { constants } from 'zlib'\n// const CBOR = require('cbor-js')\nexport default {\n  name: 'Login',\n  components: { ThemeButton },\n  data () {\n    return {\n      baseurl: '',\n      switch1: true,\n      otpScreen: false,\n      otpError: false,\n      loginId: 0,\n      signUpOption: false,\n      versionOption: 'v1.0.0',\n      activeUser: {\n        user: null,\n        token: ''\n      },\n      user: {\n        email: '',\n        password: ''\n      },\n      otpForm: {\n        otp: ''\n      },\n      submitted: false,\n      submitted2: false,\n      signupRoute: '',\n      keyScreen: false,\n      keyTotpScreen: false,\n      keys: [],\n      mfa: false,\n      harwarekey: false,\n      activeKey: false,\n      verification_method: false,\n      crid: null\n    }\n  },\n  validations: {\n    user: {\n      email: { required, minLength: minLength(2) },\n      password: { required, minLength: minLength(6) }\n    }\n  },\n  mounted: function () {\n    this.signupRoute = `/${this.$route.params.appdirectory}/signup`\n    this.fnLogin()\n    this.getsignup()\n    this.getVersion()\n  },\n  methods: {\n    fnLogin () {\n      // console.log('login')\n      var request = {\n        url: 'auth/check-directoryname',\n        data: {dirname: this.$route.params.appdirectory}\n      }\n      this.$store\n        .dispatch(post, request)\n        .then((response) => {\n          if (this.$cookie.get('access_token')) {\n            // alert('login')\n            if (response.data.status === 'nodir' || response.data.status === 'no-name') {\n              this.$router.push(`/${response.data.dir}/dashboard`)\n            } else if (response.data.status === 'false') {\n              this.$router.push(`/404`)\n            } else if (response.data.status === 'true') {\n              this.$router.push(`/${response.data.dir}/dashboard`)\n            }\n          } else {\n            // alert(JSON.stringify(response.data))\n            if (response.data.status === 'nodir' && response.data.dir === 'voip') {\n              // this.$router.push(`/404`)\n              this.$router.push(`/${response.data.dir}`)\n            } else if (response.data.status === 'no-name' && response.data.dir === 'voip') {\n              this.$router.push(`/${response.data.dir}`)\n            } else if (response.data.status === 'false' || response.data.status === 'no-name') {\n              this.$router.push(`/404`)\n            }\n            // else if (response.data.status === 'nodir' && response.data.dir === 'voip') {\n            //   this.$router.push(`/${response.data.dir}`)\n            // }\n          }\n        })\n        .catch((e) => {\n          this.old_version = false\n          console.log(e)\n          // resolve(false)\n        })\n    },\n    getsignup () {\n      var request = {\n        data: {},\n        url: 'auth/get-signup'\n      }\n      this.$store\n        .dispatch(post, request)\n        .then((response) => {\n          if (response && response.data === 'on') {\n            this.signUpOption = true\n          } else {\n            this.signUpOption = false\n          }\n        })\n        .catch((e) => {\n          this.signUpOption = false\n        })\n    },\n    getVersion () {\n      var request = {\n        data: {},\n        url: 'auth/get-version'\n      }\n      this.$store\n        .dispatch(post, request)\n        .then((response) => {\n          if (response) {\n            this.versionOption = response.data\n          }\n        })\n        .catch((e) => {\n          // this.signUpOption = false\n        })\n    },\n    handleSubmit (e) {\n      e.preventDefault()\n      this.submitted = true\n      this.$v.$touch()\n      if (this.$v.$invalid) {\n        return\n      }\n\n      var request = {\n        data: this.user,\n        url: 'auth/login'\n      }\n      this.$store\n        .dispatch(post, request)\n        .then((response) => {\n          if (response) {\n            this.keys = response.harwarekey\n            this.mfa = response.mfa\n            this.verification_method = false\n            if (response.status === 'hardwarekey') {\n              this.activeUser.token = response.token\n              this.activeUser.user = response.data\n              this.keyScreen = true\n              this.otpScreen = false\n              this.activeKey = response.harwarekey[0]\n              // this.keys = response.harwarekey\n              // this.login()\n            } else if (response.status === 'mfa') {\n              this.activeUser.token = response.token\n              this.activeUser.user = response.data\n              this.otpScreen = true\n            } else {\n              this.$cookie.set('access_token', response.token, 30)\n              this.$cookie.set('userdata', JSON.stringify(response.data), 30)\n              this.$router.push(`/${this.$route.params.appdirectory}/dashboard`)\n            }\n          }\n        })\n        .catch((e) => {\n          // this.signUpOption = false\n        })\n    },\n    verifyKey (key) {\n      var request = {\n        data: { user: this.activeUser.user._id, title: key.title },\n        url: 'hardwarekey/login-key'\n      }\n      this.$store\n        .dispatch(post, request)\n        .then(async (getAssertionChallenge) => {\n          if (getAssertionChallenge) {\n            getAssertionChallenge = await this.preformatGetAssertReq(getAssertionChallenge)\n            try {\n              var newCredentialInfo = await navigator.credentials.get({publicKey: getAssertionChallenge})\n              newCredentialInfo = this.publicKeyCredentialToJSON(newCredentialInfo)\n              var request = {\n                data: newCredentialInfo,\n                url: 'hardwarekey/login'\n              }\n              this.$store\n                .dispatch(post, request)\n                .then(async (serverResponse) => {\n                  if (serverResponse) {\n                    if (serverResponse.status !== 'true') { throw new Error('Error registering user! Server returned: ' + serverResponse.errorMessage) }\n                    this.$cookie.set('access_token', this.activeUser.token, 30)\n                    this.$cookie.set('userdata', JSON.stringify(this.activeUser.user), 30)\n                    this.activeUser.token = ''\n                    this.activeUser.user = null\n                    this.$router.push(`/${this.$route.params.appdirectory}/dashboard`)\n                  }\n                })\n                .catch((e) => {\n                  // this.signUpOption = false\n                })\n              // console.log(data)\n            } catch (error) {\n              console.log(error)\n              // error.message\n              this.$swal.fire(\n                'Key!',\n                'Login failed with security key.',\n                'error'\n              )\n            }\n          }\n        })\n        .catch((e) => {\n          // this.signUpOption = false\n        })\n    },\n    generateRandomBuffer (length) {\n      if (!length) { length = 32 }\n\n      var randomBuff = new Uint8Array(length)\n      window.crypto.getRandomValues(randomBuff)\n      return randomBuff\n    },\n    publicKeyCredentialToJSON (pubKeyCred) {\n      if (pubKeyCred instanceof Array) {\n        let arr = []\n        for (let i of pubKeyCred) { arr.push(this.publicKeyCredentialToJSON(i)) }\n\n        return arr\n      }\n\n      if (pubKeyCred instanceof ArrayBuffer) {\n        return encode(pubKeyCred)\n      }\n\n      if (pubKeyCred instanceof Object) {\n        let obj = {}\n\n        for (let key in pubKeyCred) {\n          obj[key] = this.publicKeyCredentialToJSON(pubKeyCred[key])\n        }\n\n        return obj\n      }\n\n      return pubKeyCred\n    },\n    preformatGetAssertReq (getAssert) {\n      return new Promise((resolve, reject) => {\n        getAssert.challenge = decode(getAssert.challenge)\n        if (getAssert.allowCredentials) {\n          for (let allowCred of getAssert.allowCredentials) {\n            console.log(allowCred.id)\n            allowCred.id = decode(allowCred.id)\n          }\n        }\n        resolve(getAssert)\n      })\n    },\n    handleSubmit2 (e) {\n      this.submitted2 = true\n      if (this.otpForm.otp.trim() !== '') {\n        var request = {\n          data: { user: this.activeUser.user._id, verification_code: this.otpForm.otp },\n          url: 'auth/otp-verify'\n        }\n        this.$store\n          .dispatch(post, request)\n          .then((response) => {\n            if (response) {\n              if (response.status === 'true') {\n                this.$cookie.set('access_token', this.activeUser.token, 30)\n                this.$cookie.set('userdata', JSON.stringify(this.activeUser.user), 30)\n                this.activeUser.token = ''\n                this.activeUser.user = null\n                this.$router.push(`/${this.$route.params.appdirectory}/dashboard`)\n              }\n            }\n          })\n          .catch((e) => {\n            // this.signUpOption = false\n          })\n      } else {\n        this.otpError = true\n      }\n    },\n    chooseMethods (method) {\n      if (method === 'hardware_key') {\n        this.otpScreen = false\n        this.keyScreen = true\n        this.verification_method = false\n      } else if (method === 'show_method') {\n        this.otpScreen = false\n        this.keyScreen = true\n        this.verification_method = true\n      } else if (method === 'Cancel') {\n        this.otpScreen = false\n        this.keyScreen = false\n        this.activeUser = {\n          user: null,\n          token: ''\n        }\n        this.user = {\n          email: '',\n          password: ''\n        }\n      } else if (method === 'mfa') {\n        this.keyScreen = false\n        this.otpScreen = true\n        this.verification_method = false\n      }\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"login-box dark-mode p-3\"},[_c('theme-button',{attrs:{\"id-hide\":\"false\"}}),_vm._v(\" \"),_c('h1',{staticClass:\"dark-mode\"},[_vm._v(\"Login\")]),_vm._v(\" \"),(!_vm.otpScreen && !_vm.keyScreen)?_c('form',{staticClass:\"ml-2 mr-2\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group mt-4\"},[_c('b-input-group',[_c('b-input-group-prepend',{attrs:{\"is-text\":\"\"}},[_c('b-icon',{attrs:{\"icon\":\"person-fill\"}})],1),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"form-control chat-input\",class:{ 'is-invalid': _vm.submitted && _vm.$v.user.email.$error },attrs:{\"type\":\"text\",\"placeholder\":\"Username\",\"title\":\"Enter Username\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}})],1),_vm._v(\" \"),(_vm.submitted && _vm.$v.user.email.$error)?_c('div',{staticClass:\"invalid-feedback\"},[(!_vm.$v.user.email.required)?_c('span',[_vm._v(\"Username is required\")]):_vm._e(),_vm._v(\" \"),(!_vm.$v.user.email.minLength)?_c('span',[_vm._v(\"Username is invalid\")]):_vm._e()]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group mb-2 mt-4\"},[_c('b-input-group',[_c('b-input-group-prepend',{attrs:{\"is-text\":\"\"}},[_c('b-icon',{attrs:{\"icon\":\"shield-lock\"}})],1),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"chat-input form-control\",class:{ 'is-invalid': _vm.submitted && _vm.$v.user.password.$error },attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"title\":\"Enter Password\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})],1),_vm._v(\" \"),(_vm.submitted && _vm.$v.user.password.$error)?_c('div',{staticClass:\"invalid-feedback\"},[(!_vm.$v.user.password.required)?_c('span',[_vm._v(\"Password is required\")]):_vm._e(),_vm._v(\" \"),(!_vm.$v.user.password.minLength)?_c('span',[_vm._v(\"Password is invalid\")]):_vm._e()]):_vm._e()],1),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),(_vm.signUpOption)?_c('div',{staticClass:\"my-2 small\"},[_vm._v(\"\\n            Don’t have an account yet? \"),_c('router-link',{staticClass:\"mx-2\",attrs:{\"to\":_vm.signupRoute}},[_vm._v(\" Sign up\")])],1):_c('div',{staticClass:\"d-grid d-md-flex mt-2 small\"},[_vm._v(\"\\n            New registrations are disabled\\n          \")])]):_vm._e(),_vm._v(\" \"),_c('form',{staticClass:\"ml-2 mr-2 text-center\",class:{ 'd-none': !_vm.otpScreen }},[_c('div',{staticClass:\"form-group my-4\"},[_c('label',[_vm._v(\"Enter Verification Code\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.otpForm.otp),expression:\"otpForm.otp\"}],staticClass:\"totp\",class:{ 'is-invalid': _vm.submitted2 && _vm.otpError },attrs:{\"type\":\"form-control\",\"maxlength\":\"6\",\"placeholder\":\"000000\"},domProps:{\"value\":(_vm.otpForm.otp)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.otpForm, \"otp\", $event.target.value)}}}),_vm._v(\" \"),(_vm.submitted2 && _vm.otpError)?_c('div',{staticClass:\"invalid-feedback\"},[_c('span',[_vm._v(\"Verification code is required\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-success m-3 px-5\",attrs:{\"type\":\"button\",\"id\":\"login-button2\"},on:{\"click\":function($event){return _vm.handleSubmit2($event)}}},[_vm._v(\"Verify\")])]),_vm._v(\" \"),_c('div',{staticClass:\"p-2\"},[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.chooseMethods('show_method')}}},[_vm._v(\"Choose A Different Verification Method\")])])]),_vm._v(\" \"),(_vm.keyScreen)?_c('form',{staticClass:\"ml-2 mr-2 text-center\"},[(_vm.verification_method)?_c('div',{},[(_vm.keys.length > 0)?_c('div',{staticClass:\"card my-4\"},[_c('div',{staticClass:\"card-body\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.chooseMethods('hardware_key')}}},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',{staticClass:\"px-4\"},[_c('b-icon',{attrs:{\"icon\":\"key\"}})],1),_vm._v(\" \"),_vm._m(1)])])]):_vm._e(),_vm._v(\" \"),(_vm.mfa)?_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.chooseMethods('mfa')}}},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',{staticClass:\"px-4\"},[_c('b-icon',{attrs:{\"icon\":\"calculator-fill\"}})],1),_vm._v(\" \"),_vm._m(2)])])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"p-2\"},[_c('a',{staticClass:\"mt-2\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.chooseMethods('Cancel')}}},[_vm._v(\"Cancel\")])])]):_c('div',[_vm._l((_vm.keys),function(key){return _c('div',{key:key._id,staticClass:\"card my-4\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('div',[_c('b-icon',{attrs:{\"icon\":\"key\"}}),_c('span',{staticClass:\"mr-2\"},[_vm._v(\" \"+_vm._s(key.title)+\" \")])],1),_vm._v(\" \"),_c('div',[_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.verifyKey(key)}}},[_vm._v(\"Verify\")])])])])])}),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.chooseMethods('show_method')}}},[_vm._v(\"Choose A Different Verification Method\")])],2)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"d-flex my-4 justify-content-center\"},[_c('a',{attrs:{\"href\":\"https://www.twitter.com/0perationP\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"Twitter\",\"title\":\"Twitter\"}},[_c('b-icon',{staticClass:\"mx-2\",attrs:{\"font-scale\":\"2\",\"icon\":\"twitter\",\"variant\":\"secondary\"}})],1),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://github.com/0perationPrivacy/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"Github\",\"title\":\"Github\"}},[_c('b-icon',{staticClass:\"mx-2\",attrs:{\"font-scale\":\"2\",\"icon\":\"github\",\"variant\":\"secondary\"}})],1),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://www.OperationPrivacy.com/Donate\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"Donate\",\"title\":\"Donate\"}},[_c('b-icon',{staticClass:\"mx-2\",attrs:{\"font-scale\":\"2\",\"icon\":\"credit-card\",\"variant\":\"secondary\"}})],1)])],1),_vm._v(\" \"),_c('p',{staticClass:\"version\"},[_vm._v(_vm._s(_vm.versionOption))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-grid\"},[_c('button',{staticClass:\"btn btn-success mt-3\",attrs:{\"type\":\"submit\",\"id\":\"login-button\"}},[_vm._v(\"Login\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"border-dark px-2\",staticStyle:{\"border-left\":\"1px solid\"}},[_c('h4',[_vm._v(\"Security Key\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Use a hardwaree security key that is paired with your account. \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"border-dark px-2\",staticStyle:{\"border-left\":\"1px solid\"}},[_c('h4',[_vm._v(\"TOTP Code\")]),_vm._v(\" \"),_c('p',[_vm._v(\"Use a time based on-time verification passcode. \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35537899\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35537899\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35537899\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-35537899\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}