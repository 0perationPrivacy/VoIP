{"version":3,"sources":["webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///src/components/Login.vue","webpack:///./src/components/Login.vue?4a52","webpack:///./src/components/Login.vue"],"names":["module","exports","default","__webpack_require__","__esModule","core","$JSON","JSON","stringify","it","apply","arguments","Login","name","components","ThemeButton","data","baseurl","switch1","otpScreen","otpError","loginId","signUpOption","versionOption","activeUser","user","token","email","password","otpForm","otp","submitted","submitted2","signupRoute","keyScreen","keyTotpScreen","validations","required","validators","minLength","Object","mounted","this","$route","params","appdirectory","fnLogin","getsignup","getVersion","methods","_this","request","url","dirname","$store","dispatch","common_module","then","response","$cookie","get","status","$router","push","dir","catch","e","old_version","console","log","_this2","_this3","handleSubmit","_this4","preventDefault","$v","$touch","$invalid","set","stringify_default","handleSubmit2","_this5","trim","_id","verification_code","components_Login","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id-hide","_v","_e","on","submit","$event","is-text","icon","directives","rawName","value","expression","class","is-invalid","$error","type","placeholder","title","domProps","input","target","composing","$set","_m","to","d-none","maxlength","id","click","href","rel","aria-label","font-scale","variant","_s","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.e858a3a489147fad09fe.js","sourcesContent":["module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 1 3","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 1 3","<template>\r\n    <div>\r\n        <div class=\"login-box dark-mode p-3\">\r\n            <theme-button id-hide=\"false\" />\r\n            <h1 class=\"dark-mode\">Login</h1>\r\n            <form @submit.prevent=\"handleSubmit\" class=\"ml-2 mr-2\" v-if=\"!otpScreen && !keyScreen\">\r\n              <div class=\"form-group mt-4\">\r\n                <b-input-group>\r\n                  <b-input-group-prepend is-text>\r\n                    <b-icon icon=\"person-fill\"></b-icon>\r\n                  </b-input-group-prepend>\r\n                <input class=\"form-control chat-input\" type=\"text\" placeholder=\"Username\" v-model=\"user.email\" :class=\"{ 'is-invalid': submitted && $v.user.email.$error }\" title=\"Enter Username\">\r\n                 </b-input-group>\r\n                <div v-if=\"submitted && $v.user.email.$error\" class=\"invalid-feedback\">\r\n                  <span v-if=\"!$v.user.email.required\">Username is required</span>\r\n                  <span v-if=\"!$v.user.email.minLength\">Username is invalid</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"form-group mb-2 mt-4\">\r\n                <b-input-group>\r\n                  <b-input-group-prepend is-text>\r\n                    <b-icon icon=\"shield-lock\"></b-icon>\r\n                  </b-input-group-prepend>\r\n                <input class=\"chat-input form-control\" v-model=\"user.password\"  type=\"password\" placeholder=\"Password\" :class=\"{ 'is-invalid': submitted && $v.user.password.$error }\" title=\"Enter Password\">\r\n               </b-input-group>\r\n                <div v-if=\"submitted && $v.user.password.$error\" class=\"invalid-feedback\">\r\n                    <span v-if=\"!$v.user.password.required\">Password is required</span>\r\n                    <span v-if=\"!$v.user.password.minLength\">Password is invalid</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"d-grid\">\r\n                <button class=\"btn btn-success mt-3\" type=\"submit\" id=\"login-button\">Login</button>\r\n              </div>\r\n              <div class=\"my-2 small\" v-if=\"signUpOption\">\r\n                Don’t have an account yet? <router-link :to=\"signupRoute\" class=\"mx-2\"> Sign up</router-link>\r\n              </div>\r\n              <div  class=\"d-grid d-md-flex mt-2 small\" v-else>\r\n                New registrations are disabled\r\n              </div>\r\n            </form>\r\n            <form class=\"ml-2 mr-2 text-center\" v-bind:class=\"{ 'd-none': !otpScreen }\">\r\n              <div class=\"form-group my-4\">\r\n                <label>Enter Verification Code</label>\r\n                <input class=\"totp\" v-model=\"otpForm.otp\"  type=\"form-control\" maxlength=\"6\" placeholder=\"000000\" :class=\"{ 'is-invalid': submitted2 && otpError }\">\r\n                <div v-if=\"submitted2 && otpError\" class=\"invalid-feedback\">\r\n                    <span>Verification code is required</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"text-center\">\r\n                <button class=\"btn btn-success m-3 px-5\" type=\"button\" v-on:click=\"handleSubmit2($event)\" id=\"login-button2\">Verify</button>\r\n              </div>\r\n            </form>\r\n\r\n            <form class=\"ml-2 mr-2 text-center\" v-if=\"keyScreen\">\r\n              <div class=\"form-group my-4\">\r\n                <label>Please connect your hardware key</label>\r\n              </div>\r\n            </form>\r\n\r\n            <div class=\"d-flex my-4 justify-content-center\">\r\n                 <a href=\"https://www.twitter.com/0perationP\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Twitter\" title=\"Twitter\">\r\n                    <b-icon font-scale=\"2\" icon=\"twitter\" variant=\"secondary\" class=\"mx-2\"></b-icon>\r\n                 </a>\r\n                 <a href=\"https://github.com/0perationPrivacy/\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Github\" title=\"Github\">\r\n                  <b-icon font-scale=\"2\" icon=\"github\" variant=\"secondary\" class=\"mx-2\"></b-icon>\r\n                 </a>\r\n                 <a href=\"https://www.OperationPrivacy.com/Donate\" target=\"_blank\" rel=\"noopener noreferrer\" aria-label=\"Donate\" title=\"Donate\">\r\n                  <b-icon font-scale=\"2\" icon=\"credit-card\" variant=\"secondary\" class=\"mx-2\"></b-icon>\r\n                 </a>\r\n              </div>\r\n        </div>\r\n        <p class=\"version\">{{versionOption}}</p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { post } from '../core/module/common.module'\r\nimport ThemeButton from '@/components/ThemeButton.vue'\r\nimport { required, minLength } from 'vuelidate/lib/validators'\r\nexport default {\r\n  name: 'Login',\r\n  components: { ThemeButton },\r\n  data () {\r\n    return {\r\n      baseurl: '',\r\n      switch1: true,\r\n      otpScreen: false,\r\n      otpError: false,\r\n      loginId: 0,\r\n      signUpOption: false,\r\n      versionOption: 'v1.0.0',\r\n      activeUser: {\r\n        user: null,\r\n        token: ''\r\n      },\r\n      user: {\r\n        email: '',\r\n        password: ''\r\n      },\r\n      otpForm: {\r\n        otp: ''\r\n      },\r\n      submitted: false,\r\n      submitted2: false,\r\n      signupRoute: '',\r\n      keyScreen: false,\r\n      keyTotpScreen: false\r\n    }\r\n  },\r\n  validations: {\r\n    user: {\r\n      email: { required, minLength: minLength(2) },\r\n      password: { required, minLength: minLength(6) }\r\n    }\r\n  },\r\n  mounted: function () {\r\n    this.signupRoute = `/${this.$route.params.appdirectory}/signup`\r\n    this.fnLogin()\r\n    this.getsignup()\r\n    this.getVersion()\r\n  },\r\n  methods: {\r\n    fnLogin () {\r\n      // console.log('login')\r\n      var request = {\r\n        url: 'auth/check-directoryname',\r\n        data: {dirname: this.$route.params.appdirectory}\r\n      }\r\n      this.$store\r\n        .dispatch(post, request)\r\n        .then((response) => {\r\n          if (this.$cookie.get('access_token')) {\r\n            // alert('login')\r\n            if (response.data.status === 'nodir' || response.data.status === 'no-name') {\r\n              this.$router.push(`/${response.data.dir}/dashboard`)\r\n            } else if (response.data.status === 'false') {\r\n              this.$router.push(`/404`)\r\n            } else if (response.data.status === 'true') {\r\n              this.$router.push(`/${response.data.dir}/dashboard`)\r\n            }\r\n          } else {\r\n            // alert(JSON.stringify(response.data))\r\n            if (response.data.status === 'nodir' && response.data.dir === 'voip') {\r\n              // this.$router.push(`/404`)\r\n              this.$router.push(`/${response.data.dir}`)\r\n            } else if (response.data.status === 'no-name' && response.data.dir === 'voip') {\r\n              this.$router.push(`/${response.data.dir}`)\r\n            } else if (response.data.status === 'false' || response.data.status === 'no-name') {\r\n              this.$router.push(`/404`)\r\n            }\r\n            // else if (response.data.status === 'nodir' && response.data.dir === 'voip') {\r\n            //   this.$router.push(`/${response.data.dir}`)\r\n            // }\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          this.old_version = false\r\n          console.log(e)\r\n          // resolve(false)\r\n        })\r\n    },\r\n    getsignup () {\r\n      var request = {\r\n        data: {},\r\n        url: 'auth/get-signup'\r\n      }\r\n      this.$store\r\n        .dispatch(post, request)\r\n        .then((response) => {\r\n          if (response && response.data === 'on') {\r\n            this.signUpOption = true\r\n          } else {\r\n            this.signUpOption = false\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          this.signUpOption = false\r\n        })\r\n    },\r\n    getVersion () {\r\n      var request = {\r\n        data: {},\r\n        url: 'auth/get-version'\r\n      }\r\n      this.$store\r\n        .dispatch(post, request)\r\n        .then((response) => {\r\n          if (response) {\r\n            this.versionOption = response.data\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          // this.signUpOption = false\r\n        })\r\n    },\r\n    handleSubmit (e) {\r\n      e.preventDefault()\r\n      this.submitted = true\r\n      this.$v.$touch()\r\n      if (this.$v.$invalid) {\r\n        return\r\n      }\r\n\r\n      var request = {\r\n        data: this.user,\r\n        url: 'auth/login'\r\n      }\r\n      this.$store\r\n        .dispatch(post, request)\r\n        .then((response) => {\r\n          if (response) {\r\n            /* if (response.status === 'hardwarekey') {\r\n              this.activeUser.token = response.token\r\n              this.activeUser.user = response.data\r\n              this.keyScreen = true\r\n              this.otpScreen = false\r\n              this.login()\r\n            } */ if (response.status === 'mfa') {\r\n              this.activeUser.token = response.token\r\n              this.activeUser.user = response.data\r\n              this.otpScreen = true\r\n            } else {\r\n              this.$cookie.set('access_token', response.token, 30)\r\n              this.$cookie.set('userdata', JSON.stringify(response.data), 30)\r\n              this.$router.push(`/${this.$route.params.appdirectory}/dashboard`)\r\n            }\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          // this.signUpOption = false\r\n        })\r\n    },\r\n    /* login () {\r\n      try {\r\n        if (window.u2f && window.u2f.sign) {\r\n          console.log('============================login uf2 response==========================')\r\n          console.log(window.u2f)\r\n          console.log('============================/login uf2 response==========================')\r\n          console.log('============================sign response==========================')\r\n          console.log(window.u2f.sign)\r\n          console.log('============================/sign response==========================')\r\n          var request = {\r\n            data: {user: this.activeUser.user._id},\r\n            url: 'hardwarekey/login-key'\r\n          }\r\n          this.$store\r\n            .dispatch(post, request)\r\n            .then((result) => {\r\n              if (result) {\r\n                window.u2f.sign(result.appId, [result.challenge], [result], response => {\r\n                  console.log('============================loginResponse==========================')\r\n                  console.log(response)\r\n                  console.log('============================/loginResponse==========================')\r\n                  var request2 = {\r\n                    data: {loginResponse: response, result: result, user: this.activeUser.user._id},\r\n                    url: 'hardwarekey/login'\r\n                  }\r\n                  this.$store\r\n                    .dispatch(post, request2)\r\n                    .then((result) => {\r\n                      if (result) {\r\n                        this.$cookie.set('access_token', this.activeUser.token, 30)\r\n                        this.$cookie.set('userdata', JSON.stringify(this.activeUser.user), 30)\r\n                        this.activeUser.token = ''\r\n                        this.activeUser.user = null\r\n                        this.$router.push(`/${this.$route.params.appdirectory}/dashboard`)\r\n                        // console.log(result)\r\n                      }\r\n                    })\r\n                    .catch((e) => {\r\n\r\n                    })\r\n                })\r\n              }\r\n            })\r\n            .catch((e) => {\r\n\r\n            })\r\n        }\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n    }, */\r\n    handleSubmit2 (e) {\r\n      this.submitted2 = true\r\n      if (this.otpForm.otp.trim() !== '') {\r\n        var request = {\r\n          data: { user: this.activeUser.user._id, verification_code: this.otpForm.otp },\r\n          url: 'auth/otp-verify'\r\n        }\r\n        this.$store\r\n          .dispatch(post, request)\r\n          .then((response) => {\r\n            if (response) {\r\n              if (response.status === 'true') {\r\n                this.$cookie.set('access_token', this.activeUser.token, 30)\r\n                this.$cookie.set('userdata', JSON.stringify(this.activeUser.user), 30)\r\n                this.activeUser.token = ''\r\n                this.activeUser.user = null\r\n                this.$router.push(`/${this.$route.params.appdirectory}/dashboard`)\r\n              }\r\n            }\r\n          })\r\n          .catch((e) => {\r\n            // this.signUpOption = false\r\n          })\r\n      } else {\r\n        this.otpError = true\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"login-box dark-mode p-3\"},[_c('theme-button',{attrs:{\"id-hide\":\"false\"}}),_vm._v(\" \"),_c('h1',{staticClass:\"dark-mode\"},[_vm._v(\"Login\")]),_vm._v(\" \"),(!_vm.otpScreen && !_vm.keyScreen)?_c('form',{staticClass:\"ml-2 mr-2\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group mt-4\"},[_c('b-input-group',[_c('b-input-group-prepend',{attrs:{\"is-text\":\"\"}},[_c('b-icon',{attrs:{\"icon\":\"person-fill\"}})],1),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.email),expression:\"user.email\"}],staticClass:\"form-control chat-input\",class:{ 'is-invalid': _vm.submitted && _vm.$v.user.email.$error },attrs:{\"type\":\"text\",\"placeholder\":\"Username\",\"title\":\"Enter Username\"},domProps:{\"value\":(_vm.user.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"email\", $event.target.value)}}})],1),_vm._v(\" \"),(_vm.submitted && _vm.$v.user.email.$error)?_c('div',{staticClass:\"invalid-feedback\"},[(!_vm.$v.user.email.required)?_c('span',[_vm._v(\"Username is required\")]):_vm._e(),_vm._v(\" \"),(!_vm.$v.user.email.minLength)?_c('span',[_vm._v(\"Username is invalid\")]):_vm._e()]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"form-group mb-2 mt-4\"},[_c('b-input-group',[_c('b-input-group-prepend',{attrs:{\"is-text\":\"\"}},[_c('b-icon',{attrs:{\"icon\":\"shield-lock\"}})],1),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user.password),expression:\"user.password\"}],staticClass:\"chat-input form-control\",class:{ 'is-invalid': _vm.submitted && _vm.$v.user.password.$error },attrs:{\"type\":\"password\",\"placeholder\":\"Password\",\"title\":\"Enter Password\"},domProps:{\"value\":(_vm.user.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.user, \"password\", $event.target.value)}}})],1),_vm._v(\" \"),(_vm.submitted && _vm.$v.user.password.$error)?_c('div',{staticClass:\"invalid-feedback\"},[(!_vm.$v.user.password.required)?_c('span',[_vm._v(\"Password is required\")]):_vm._e(),_vm._v(\" \"),(!_vm.$v.user.password.minLength)?_c('span',[_vm._v(\"Password is invalid\")]):_vm._e()]):_vm._e()],1),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),(_vm.signUpOption)?_c('div',{staticClass:\"my-2 small\"},[_vm._v(\"\\n            Don’t have an account yet? \"),_c('router-link',{staticClass:\"mx-2\",attrs:{\"to\":_vm.signupRoute}},[_vm._v(\" Sign up\")])],1):_c('div',{staticClass:\"d-grid d-md-flex mt-2 small\"},[_vm._v(\"\\n            New registrations are disabled\\n          \")])]):_vm._e(),_vm._v(\" \"),_c('form',{staticClass:\"ml-2 mr-2 text-center\",class:{ 'd-none': !_vm.otpScreen }},[_c('div',{staticClass:\"form-group my-4\"},[_c('label',[_vm._v(\"Enter Verification Code\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.otpForm.otp),expression:\"otpForm.otp\"}],staticClass:\"totp\",class:{ 'is-invalid': _vm.submitted2 && _vm.otpError },attrs:{\"type\":\"form-control\",\"maxlength\":\"6\",\"placeholder\":\"000000\"},domProps:{\"value\":(_vm.otpForm.otp)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.otpForm, \"otp\", $event.target.value)}}}),_vm._v(\" \"),(_vm.submitted2 && _vm.otpError)?_c('div',{staticClass:\"invalid-feedback\"},[_c('span',[_vm._v(\"Verification code is required\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"text-center\"},[_c('button',{staticClass:\"btn btn-success m-3 px-5\",attrs:{\"type\":\"button\",\"id\":\"login-button2\"},on:{\"click\":function($event){return _vm.handleSubmit2($event)}}},[_vm._v(\"Verify\")])])]),_vm._v(\" \"),(_vm.keyScreen)?_c('form',{staticClass:\"ml-2 mr-2 text-center\"},[_vm._m(1)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"d-flex my-4 justify-content-center\"},[_c('a',{attrs:{\"href\":\"https://www.twitter.com/0perationP\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"Twitter\",\"title\":\"Twitter\"}},[_c('b-icon',{staticClass:\"mx-2\",attrs:{\"font-scale\":\"2\",\"icon\":\"twitter\",\"variant\":\"secondary\"}})],1),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://github.com/0perationPrivacy/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"Github\",\"title\":\"Github\"}},[_c('b-icon',{staticClass:\"mx-2\",attrs:{\"font-scale\":\"2\",\"icon\":\"github\",\"variant\":\"secondary\"}})],1),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://www.OperationPrivacy.com/Donate\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"aria-label\":\"Donate\",\"title\":\"Donate\"}},[_c('b-icon',{staticClass:\"mx-2\",attrs:{\"font-scale\":\"2\",\"icon\":\"credit-card\",\"variant\":\"secondary\"}})],1)])],1),_vm._v(\" \"),_c('p',{staticClass:\"version\"},[_vm._v(_vm._s(_vm.versionOption))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-grid\"},[_c('button',{staticClass:\"btn btn-success mt-3\",attrs:{\"type\":\"submit\",\"id\":\"login-button\"}},[_vm._v(\"Login\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group my-4\"},[_c('label',[_vm._v(\"Please connect your hardware key\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48a5bdf0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48a5bdf0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48a5bdf0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-48a5bdf0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}